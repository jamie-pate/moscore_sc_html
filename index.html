<!DOCTYPE html>
<html ng-app="board">
<head>
<meta charset="utf-8">
<title>HDD Board Layout</title>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.7/angular.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.7/angular-animate.js"></script>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="layout.css">
  <script data-require="showdown@*" data-semver="0.3.1" src="//cdnjs.cloudflare.com/ajax/libs/showdown/0.3.1/showdown.min.js"></script>
  <script src="moscore_ng/mosco.js"></script>
  <script src="script.js"></script>
  <script src="directives.js"></script>
  <script src="layout.js"></script>
  <style m-copy="font_faces">
    @font-face {
     font-family: SmallFonts;
     src:local("Small Fonts");
    }
    @font-face {
     font-family: Roboto;
     src:local("Roboto-Regular");
    }
  </style>

</head>
<body ng-controller="main">
  <div ng-class="{'hide-board': !settings.showBoard}">
    <div m-image="board_image" styles="font_faces">
      <div class=board ng-include="current_template()" style='font-size:{{settings.fontSize}}pt;font-family:"{{settings.fontFamily}}"'>
      </div>
    </div>
  </div>
  <div>
  <m-canvas
    zoom="settings.zoom"
    post="settings.screen && board_post_process"
    src="board_image" class="board-zoom"></m-canvas>
  </div>
  <div>
  <label><input type="checkbox" ng-model="settings.showSettings">Show Settings</label> <label><input type="checkbox" ng-model="settings.showBoardControl">Show Board Control</label>
  </div>
  <div class=panels>
    <dl ng-show="settings.showSettings">
      <dt>Screen<dd><input type="checkbox" ng-model="settings.screen">
      <dt>Zoom   {{settings.zoom}}x<dd>
    <input type=range min=1 max=10 ng-model="settings.zoom">
      <dt>Font
        <dd><input type=text list=fonts ng-model="settings.fontFamily">
          <datalist id=fonts>
            <option ng-repeat="font in settings.fontList" value="{{font}}"></datalist>

      <dt>{{settings.fontSize}}pt
        <dd><input type=range min=4 max=24 ng-model="settings.fontSize">
      <dt>
    </dl>
    <dl ng-show="settings.showBoardControl">
      <dt>Mode<dd>
        <select ng-options="val as mode for (mode, val) in MODE" ng-model="board.mode"></select>
      <dt ng-show="board.mode == MODE.RACE">State<dd ng-show="board.mode == MODE.RACE">
        <select ng-options="val as state for (state, val) in STATE"
                ng-model="board.state"></select>
      <dt ng-show="board.mode == MODE.RACE && board.state == STATE.RACE">Flag
      <dd ng-show="board.mode == MODE.RACE && board.state == STATE.RACE">
        <select ng-options="val as flag for (flag, val) in FLAG"
                ng-model=board.flag></select>
      <dt>Laps<dd><input type=number ng-model=board.laps min=0 max=99>
      <dt>Lineup<dd><input type=text ng-model=board.lineup ng-list>
      <dt>Race Order<dd><input type=text ng-model=board.raceOrder ng-list>
      <dt>Warmup<dd><input class="half" type=number ng-model="warmupTime" m-time-scale=m>{{board.warmupLeft()}}
      <dt>Race Number<dd><input type=number ng-model=board.raceNumber>
      <dt>Race Type<dd><input type=text ng-model=board.raceType list=race-type>
      <datalist id=race-type><option ng-repeat="t in settings.raceTypes" value="{{t}}"></datalist>
      <dt>Race Class<dd><input type=text ng-model=board.raceClass list=race-class>
      <datalist id=race-class><option ng-repeat="c in settings.raceClasses" value="{{c}}"></datalist>
    </dl>
  </div>
  <div>
    <label>
    <input ng-model="settings.showData" type="checkbox">Show Board Data</label>
    <label>
      <input ng-model="settings.showBoard" type="checkbox">Show Board Original HTML
    </label>
  </div>
  <div ng-show="settings.showData">
  {{board|json}}
  </div>

  <div markdown ng-include="'README.md'">
  </div>

</body>
</html>